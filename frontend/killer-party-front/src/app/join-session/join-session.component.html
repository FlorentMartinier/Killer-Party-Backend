<div class="container w-sm">
    <form class="bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4" (ngSubmit)="onSubmit()">
        <div class="form-group mb-4">
            <label class="block text-gray-700 text-sm font-bold mb-2 after:text-red-500 after:content-['*']" for="nom" >Nom</label>
            <input 
                id="name"
                name="name"
                class="form-control shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
                [ngClass]="{'border-red-500': nameValid.invalid && (nameValid.dirty || nameValid.touched)}"
                placeholder="Nom"
                type="text"
                [(ngModel)]="name"
                #nameValid="ngModel"
                required/>
            <div *ngIf="nameValid.invalid && (nameValid.dirty || nameValid.touched)" class="text-red-500 text-xs italic">
                <div *ngIf="nameValid.errors?.['required']">Le nom est obligatoire.</div>
            </div>
        </div>

        <div class="form-group mb-4">
            <label class="block text-gray-700 text-sm font-bold mb-2 after:text-red-500 after:content-['*']" for="telephone">Numéro de téléphone</label>
            <input type="tel"
                placeholder="0600000000"
                pattern="[0-9]{10}"
                maxlength="10"
                class="form-control shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
                [ngClass]="{'border-red-500': phoneValid.invalid && (phoneValid.dirty || phoneValid.touched)}"
                [(ngModel)]="phoneNumber"
                name="telephone"
                #phoneValid="ngModel"
                required>
            <div *ngIf="phoneValid.invalid && (phoneValid.dirty || phoneValid.touched)" class="text-red-500 text-xs italic">
                <div *ngIf="phoneValid.errors?.['required']">Le numéro de téléphone est obligatoire.</div>
                <div *ngIf="phoneValid.errors?.['pattern']">le format de numéro est invalide.</div>
            </div>
        </div>

        <div class="form-group mb-4">
            <label class="block text-gray-700 text-sm font-bold mb-2 after:text-red-500 after:content-['*']" for="sessionId">ID de session</label>
            <input type="text"
                placeholder="00000000-0000-0000-0000-0000000000000"
                pattern="[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}"
                class="form-control shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"
                [ngClass]="{'border-red-500': sessionValid.invalid && (sessionValid.dirty || sessionValid.touched)}"
                [(ngModel)]="sessionId"
                name="sessionId"
                #sessionValid="ngModel"
                required>
            <div *ngIf="sessionValid.invalid && (sessionValid.dirty || sessionValid.touched)" class="text-red-500 text-xs italic">
                <div *ngIf="sessionValid.errors?.['required']">L'id de session est obligatoire.</div>
                <div *ngIf="sessionValid.errors?.['pattern']">le format de la session est invalide.</div>
            </div>
        </div>

        <button 
            class="bg-blue-500 text-white font-bold py-2 px-4 rounded" 
            [ngClass]="{
                'opacity-50 cursor-not-allowed': phoneValid.invalid || sessionValid.invalid || nameValid.invalid,
                'hover:bg-blue-700 focus:outline-none focus:shadow-outline': phoneValid.valid && sessionValid.valid && nameValid.valid
                }"
            [disabled]="phoneValid.invalid || sessionValid.invalid || nameValid.invalid"
            type="submit">
            Envoyer
        </button>
    </form>
    <p class="text-center text-gray-500 text-xs">
        Le jeu vous plait ? Téléchargez le <a class="font-medium text-blue-600 dark:text-blue-500 hover:underline" href="https://killer-party.en.aptoide.com/app">ici</a>
    </p>
</div>